import axios from"axios";import moment from"moment";import fs from"fs";import path from"path";import{fileURLToPath}from"url";import{dirname}from"path";let __filename=fileURLToPath(import.meta.url),__dirname=dirname(__filename);class Manager{static async log(a,r){try{var e=path.join(__dirname,"..","logs"),o=(fs.mkdirSync(e,{recursive:!0}),moment().format("YYYY-MM-DD")),t=`${o} ${a.toUpperCase()} ${r}\n`,s=path.join(e,`log-${o}.log`);return fs.appendFileSync(s,t),console.log(`Log: ${a} salvo com sucesso!`,t),{log:"save"}}catch(a){return console.error("Log: não foi salvo",a.message),{log:"error",message:a.message}}}static async valid(a,r){try{var e,o,t,s;if(a&&Manager.checkURL(a))return{valid:o,error:t,details:s}=(e=await axios.post(a,r)).data,{valid:o,error:t,details:s,data:e.data};throw new Error(`A URL fornecida (${a}) não é válida.`)}catch(a){return console.error("KeyManager: Erro ao validar sua chave de API",a.message),{valid:!1,error:a,details:a.message,data:{}}}}static checkURL(a){return/^(ftp|http|https):\/\/[^ "]+$/.test(a)}static checkDataJson(a){try{return JSON.stringify(a)}catch(a){return console.error("KeyManager: Erro ao validar os dados enviados",a.message),null}}}export default Manager;